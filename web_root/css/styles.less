// 321-wide styles

// Import via main styles
@import "../../base/web_root/css/styles.less";

// Import via out of the box styles
// TODO: Sobald outofthebox einigermasse stabil, dann hierhin kopieren und getrennte wege gehen
@import "../../base/web_root/css/outofthebox/main.less";

// Our SITE own uikit theme (overrides to the via base uikit theme)
@import "uikit_theme/_import.less";


@level-a1:       #00cc67;    
@level-a2:       #3399cc;
@level-b1:       #cc6699;
@level-b2:       #cccc66;
@level-c1:       #bcb6a5;
@level-c2:       #a8b3d3;


@tdu-header-height:                                  10vh;
@tdu-header-height-small:                            5vh;
@tdu-header-background:                              rgba(0,0,0,0.2);
@tdu-header-small-background:                        fade(@global-background, 95%);

@tdu-header-shadow-sticky:                           0 0 50px 1px rgba(0,0,0,0.2);
@tdu-header-shadow-teaser:                           0 0 150px 1px rgba(0,0,0,0.5);


// .level-badge {
// 		-webkit-border-radius: 55px;
// 		-moz-border-radius: 55px;
// 		border-radius: 55px;
//     // color: #fff !important;
//     // line-height: 2em;
//     font-weight: bold;
//     color: @level-badge-boxen-fontcolor;
//     line-height: @level-badge-boxen-line-height;
//     text-align: center;		
// }

// .uk-button {
// 		&.level-a1, &.level-a2, &.level-b1, &.level-b2, &.level-c1, &.level-c2 {
// 				.level-badge();																																		 
// 				margin: 0.3em;
// 				width: 50px;
// 				height: 50px;
// 				padding: 0;
// 				text-align: center;

// 				&.selected,
// 				&:hover {
// 						border: 6px solid white;
// 				}
// 		}
// }


body {
		&.loggedIn {
				//		background-color: lighten(desaturate(@global-primary-background, 30%), 110%, relative);
				//		background-color: #eee;

				// Kein Background mehr laut Sara
				// background-image: @fixed-background-b;	
				// -webkit-background-size: cover;
				// -moz-background-size: cover;
				// -o-background-size: cover;
				// background-size: cover;
				// background-attachment: fixed;

				background-color: white;

				div.core {
						//				background: rgba(255,255,255,0.8);
						background-color: white;
						min-height: 500px;
				}
		}
}




div.coreContainer {
		padding-top: 1em;
}

//
// header 
//
div.tdu-header {
    
		background-color: @global-background;

		img.tdu-logo {
				height: @tdu-header-height;
				width: auto;
				min-height: 3em;
		}

		.tdu-claim {
				//		padding-left: @claim-padding-left;
				font-size: 16px;
				vertical-align: top;
				// line-height: 22px;
				margin-top: 1em;

				p {
						line-height: @claim-p-height;
				}

		}

		ul.uk-navbar-nav {
				margin-top: 1em;
		}

		a.mainMenuToggler {
				span.uk-icon {
						margin-right: 0.2em;
				}
		}
		
		&.uk-active {

				height: @tdu-header-height-small;
				box-shadow: @tdu-header-shadow-sticky !important;
				background: @tdu-header-small-background;

				> .uk-container {
						height: @tdu-header-height-small;

						div.uk-navbar-right, div.uk-navbar-left {
								align-items: flex-start;
						}
				}

				//    .uk-dropdown-navbar { margin-top: 15px; }

				// .uk-navbar-nav > li:not(.uk-active) > a {
				// 		color: @navbar-nav-item-color !important;				
				// }

				//    .uk-navbar-toggle { color: @navbar-toggle-color !important; }

		}

		// Menu, in navbar or in offcanvas
		#mainMenu {
				ul.uk-nav, ul.uk-navbar-nav {
						// Login Menu, Facebook-Vorgaben
						li.loginMenu {
								ul.loginMenu {
										li.facebookLogin, li.googleLogin {
												//				background-color: @facebook-blue;
												padding-left: 2px;
												background-color: #f6f6f6;

												a.facebookLogin, a.googleLogin {
														&:hover {
																color: @base-link-color;
														}
														color: #333;

														img.facebookLogo {
																width: 20px;
																//						margin: 2px;
														}

														img.googleLogo {
																width: 16px;
																margin: 2px;
														}
												}
										}
								}
						}
				}

				&.uk-offcanvas {
						ul.uk-nav {
								li {
										a {
												color: white;
										}
								}
						}
				}
		}

}


div.searchBarContainer {

		background-color: @global-primary-background;
		padding: 1.5em 0;
 		border-bottom: darken(@global-primary-background, 20%) 5px solid;

		div.searchBar {

				padding: 0 0.3em;
				
				div.uk-search {

						input.uk-search-input {
								background-color: #fff;   
								border-radius: 12px;
						}
						
						button.searchButton
						{
								background-color: @via-coloredbutton-color;
								border: 2px solid white;
								&:hover {
										background-color: @via-coloredbutton-hover-color;
								}
						}
				}

				div.extendedSearch {
						margin: 20px 0 0 0;
				}
		}
}



div.VIAModuleSearchComponent {
		div.mapContainer.swissMap {
				margin: 50px auto;
				width: 50%;
		}
}

nav.tdu-navbar {
		ul.uk-navbar-nav > li {
				span.menuDivider {
						display: inline-block;
						width: 1px;
						height: 30px;
						background-color: @global-primary-background;
						// -webkit-transform: rotate(20deg);
	    			// -ms-transform: rotate(20deg);
						transform: rotate(20deg);
				}

		}
}



//
// ModuleExerciser
//
div.VIATduModuleExerciser {

		padding-left: 0.5em;
		padding-right: 0.5em;

		// 
		// Titel besser
		//
		h2.moduleTitle {
				padding:5px 5px 5px 5px;
				background-color: #fff;
				border-bottom: 1px solid #F00;
				font-weight: 200;
				font-size: 2em;

				span.level-badge {
						width: 50px;
						height: 50px;
						padding: 5px;
				}

				span.rating {
						float: right;
				}
		}

		div.moduleMenu {
				margin-bottom: 5px;
				
				div.rating {
						a.noRating {
								color: @global-muted-color;
						}
				}
		}

		div.swissgermanToolbox {
				margin-bottom: 5px;
		}

		div.hiddenTaskExercise {
				// Nicht display:none, weil das Berechnungen mit Breite etc. nicht m√∂glich macht
				
				// height: 0px;
				// visibility: hidden;
				// overflow: hidden;

				// position: absolute; 
				// overflow: hidden; 
				// clip: rect(0 0 0 0); 
				// height: 1px; width: 1px; 
				// margin: -1px; padding: 0; border: 0; 

				
				position: absolute !important;
				top: -9999px !important;
				left: -9999px !important;
				width: 100%; // TODO: Smarter, aber ich fand nicht heraus, wo die Breite drin steht. Wir brauchen aber eine feste Breite, damit die Berechnung per JS OK ist
				visibility: hidden;
				
				// div.VIAExerciserComponent {
				// 		height: 0px;
				// }
		}

		div.moduleDetails {
				margin-bottom: 20px;
				
				span.moduleEmbedHtml {
						font-family: monospace;
						display: block;
						font-size: 80%;
						border: 1px solid #999;
						line-height: 0.9em;
						padding: 1px;
						margin: 2px 0;
						background-color: #eee;
				}
		}
		
		div.moduleFootnotes {
				margin-top: 20px;
				border: 1px solid #ddd;
				padding: 5px;
		}

		div.teacherNotes {
				.uk-hidden();
		}


		
}

//
// Exam Exerciser
//
div.VIATduExamModuleExerciser {

		div.submitExam {

				margin-top: 75px;
				
				.uk-button.submitExam {
						background: #f00;
						color: #fff;
						border:  0px;
						padding: 10px;
						font-size: 1.2em;
				}
		}
}


//
// Personal portfolio
//
div.VIAMyPortfolioComponent {
		div.certificatePreview {
				border: 20px white solid;
				margin-top: 15px;
		}

		a.certificatePreview,
		a.certificatePreview:hover {
				color: inherit;
		}

}









//
// Fixed backgrounds variants
//

.tdu-fixed-background-a,
.tdu-fixed-background-b,
.tdu-fixed-background-c {
    background-attachment: fixed;
    background-size: cover;
    padding: @position-padding 0;
    position: relative;
    box-shadow: inset 0 0 150px 1px rgba(0,0,0,0.5);
		// height:@fixedbackground-home-height;
		min-height: 22em;
}

.tdu-fixed-background-a { background-image: @tdu-fixed-background-a; }
.tdu-fixed-background-b { background-image: @tdu-fixed-background-b; }
.tdu-fixed-background-c { background-image: @tdu-fixed-background-c; }


/* Breakpoints
 ========================================================================== */

// Small and bigger
@media (min-width: @breakpoint-small) {

		div.coreContainer {
//				padding-top: 1em;
				// padding-left: 2em;
				// padding-right: 2em;
		}

		div.VIAMyPortfolioComponent {
				div.certificatePreview {
						transform: translate(-25%, -25%) scale(0.5);
				}
		}
		
}

// Not small phones
@media (min-width: @breakpoint-small-max) {
		body.loggedIn {
				background-color: #eee;
				div.core {
						min-height: 500px;
				}
		}
}

// Only small phones
@media (max-width: @breakpoint-small) {

		body.loggedIn {
				background-attachment: scroll;
		}

		div.tdu-header {
				border-bottom: 2px solid #eee;
		}

		.tdu-fixed-background-a,
    .tdu-fixed-background-b,
    .tdu-fixed-background-c { background-attachment: scroll; }

		
    .uk-navbar-brand,
    .uk-navbar-content { padding: 0 !important; }

    .uk-navbar-toggle { padding-right: 0; }

    h1, .uk-h1 {
        font-size: @base-h1-font-size - 10px;
        line-height: @base-h1-line-height - 10px;
    }

    h2, .uk-h2 {
        font-size: @base-h2-font-size - 10px;
        line-height: @base-h2-line-height - 10px;
    }

    h3, .uk-h3 {
        font-size: @base-h3-font-size - 10px;
        line-height: @base-h3-line-height - 10px;
    }

    h4, .uk-h4 {
        font-size: @base-h4-font-size - 2px;
        line-height: @base-h4-line-height - 2px;
    }

    h5, .uk-h5 {
        font-size: @base-h5-font-size;
        line-height: @base-h5-line-height;
    }

    h6, .uk-h6 {
        font-size: @base-h6-font-size;
        line-height: @base-h6-line-height;
    }

    .tdu-position-teaser { position: absolute !important; }

		div.moduleCard {

				&.mini {
						padding: 0.2em;
				}

				&.normal {
						padding: 0.5em;
				}


				div.tdu-titel-box {
						font-size: 90%;
						line-height: normal;
				}

		}


}

//
// footer
// 

.footer {
    background-color: @footer-background;
    color: @footer-color;
    height: @footer-min-height;
    margin-top: @footer-margin-top;

		position: fixed;
		z-index: 15;
		bottom: 0;
		width: 100%;
		
		div.footnotes {
				padding: @footer-padding;
		}

		a {
				color: inherit;
		}
		
		div.awards {
				position: absolute;
				right: 0;
				padding: @footer-padding;
				
				img.award {
						height: @footer-min-height / 1.7;
						filter: grayscale(100%);

						&:hover {
								filter: grayscale(0%);
						}
				}
		}
    
}

div.VIAPublicHomeComponent {
		div#award {
				position: absolute;
		}
}
